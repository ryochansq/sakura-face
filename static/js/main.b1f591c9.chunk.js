(this["webpackJsonpsakura-face-front"]=this["webpackJsonpsakura-face-front"]||[]).push([[0],{49:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),i=n.n(c),s=(n(49),n(91)),o=n(98),u=n(99),j=n(94),l=n(75),d=n(95),b=n(93),f=n(96),p=n(12),h=n.n(p),O=n(15),x=n(19),m=n(97),v=n(24),g=n.n(v);g.a.defaults.baseURL="https://jzzezp7bhc.execute-api.ap-northeast-1.amazonaws.com/dev/";var y=function(){var e=Object(O.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"content-type":"application/octet-stream"},e.next=3,g.a.post("/detect",t,{headers:n});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(O.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("/findSimilar",{faceId:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=n(2),R=Object(s.a)((function(){return Object(o.a)({pictureContainer:{position:"relative"},loaded:{width:"100%",objectFit:"contain"}})})),I=function(){var e=R(),t=Object(a.useState)(void 0),n=Object(x.a)(t,2),r=n[0],c=n[1],i=Object(a.useRef)(null),s=Object(a.useState)([]),o=Object(x.a)(s,2),u=o[0],j=o[1],d=Object(a.useState)([]),f=Object(x.a)(d,2),p=f[0],v=f[1],g=Object(a.useState)(!1),I=Object(x.a)(g,2),S=I[0],_=I[1],z=i.current?100/i.current.naturalWidth:0,C=i.current?100/i.current.naturalHeight:0,F=function(){var e=Object(O.a)(h.a.mark((function e(t){var n,a,r,i,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target,a=n.files,r=a&&a.length?a[0]:null){e.next=5;break}return e.abrupt("return");case 5:return _(!0),(i=new FileReader).readAsDataURL(r),i.onload=function(){var e=i.result;c(e)},e.next=11,y(r);case 11:s=e.sent,j(s),_(!1);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(O.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.next=3,w(t);case 3:n=e.sent,v(n),_(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(b.a,{item:!0,container:!0,justify:"center",children:Object(k.jsxs)(m.a,{variant:"contained",color:"primary",component:"label",children:["\u753b\u50cf\u3092\u9078\u629e",Object(k.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:F})]})}),r&&Object(k.jsx)(b.a,{item:!0,container:!0,children:Object(k.jsxs)(b.a,{item:!0,container:!0,direction:"row",children:[Object(k.jsxs)(b.a,{className:e.pictureContainer,item:!0,container:!0,xs:6,justify:"center",alignItems:"center",children:[Object(k.jsx)("img",{ref:i,src:r,alt:"\u9078\u629e\u753b\u50cf",className:e.loaded}),!S&&u.map((function(e){return Object(k.jsx)("button",{onClick:function(){return N(e.faceId)},type:"button",style:{backgroundColor:"transparent",border:"2px solid blue",color:"transparent",cursor:"pointer",position:"absolute",left:"".concat(e.faceRectangle.left*z,"%"),top:"".concat(e.faceRectangle.top*C,"%"),width:"".concat(e.faceRectangle.width*z,"%"),height:"".concat(e.faceRectangle.height*C,"%")},children:":"},e.faceId)}))]}),Object(k.jsx)(b.a,{item:!0,container:!0,xs:6,justify:"center",alignItems:"center",children:"fuga"})]})}),p.length>0&&p.map((function(e){return Object(k.jsx)(b.a,{item:!0,container:!0,justify:"center",children:Object(k.jsxs)(l.a,{children:[e.name," : ",100*e.confidence,"%"]})},e.name)}))]})},S=Object(s.a)((function(){return Object(o.a)({title:{flexGrow:1},body:{marginTop:8}})})),_=function(){var e=S();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(u.a,{position:"static",children:Object(k.jsx)(j.a,{variant:"dense",children:Object(k.jsx)(l.a,{variant:"h6",className:e.title,children:"\u3055\u304f\u3089\u5b66\u9662\u306e\u8ab0\u306b\u4f3c\u3066\u308b\u304b\u306a\uff08\u958b\u767a\u4e2d\uff09"})})}),Object(k.jsx)(d.a,{maxWidth:"sm",className:e.body,children:Object(k.jsxs)(b.a,{container:!0,spacing:2,children:[Object(k.jsx)(b.a,{item:!0,container:!0,justify:"center",children:Object(k.jsx)("img",{src:"/camera_kao_ninshiki.png",alt:"\u9854\u8a8d\u8b58"})}),Object(k.jsxs)(b.a,{item:!0,children:[Object(k.jsxs)(l.a,{children:["\u753b\u50cf\u306b\u5199\u3063\u3066\u3044\u308b\u4eba\u304c\u3001\u3055\u304f\u3089\u5b66\u9662\u306e\u4e2d\u3067",Object(k.jsx)("b",{children:"\u3069\u306e\u751f\u5f92\u306b\u3069\u306e\u304f\u3089\u3044\u4f3c\u3066\u3044\u308b\u304b"}),"\u5224\u5b9a\u3059\u308b\u3088\uff01"]}),Object(k.jsxs)(l.a,{variant:"caption",children:["\u203b\u753b\u50cf\u306f\u5224\u5b9a\u306e\u305f\u3081",Object(k.jsx)(f.a,{href:"https://azure.microsoft.com/ja-jp/services/cognitive-services/face/#demo",target:"_blank",children:"Microsoft"}),"\u3078\u9001\u4fe1\u3055\u308c\u307e\u3059\u3001\u305d\u308c\u4ee5\u5916\u306b\u306f\u4f7f\u7528\u3055\u308c\u307e\u305b\u3093"]})]}),Object(k.jsx)(I,{}),Object(k.jsx)(b.a,{item:!0,container:!0,justify:"flex-end",children:Object(k.jsxs)(l.a,{variant:"caption",children:["\u958b\u767a\uff1a"," ",Object(k.jsx)(f.a,{href:"https://twitter.com/ryochan_metal",target:"_blank",children:"@ryochan_metal"})]})})]})})]})};i.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(_,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.b1f591c9.chunk.js.map
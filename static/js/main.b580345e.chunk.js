(this["webpackJsonpsakura-face-front"]=this["webpackJsonpsakura-face-front"]||[]).push([[0],{49:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),i=n.n(c),s=(n(49),n(92)),o=n(100),u=n(95),j=n(96),l=n(75),d=n(97),b=n(76),f=n(94),h=n(98),p=n(12),x=n.n(p),O=n(15),m=n(19),v=n(99),g=n(24),y=n.n(g);y.a.defaults.baseURL="https://jzzezp7bhc.execute-api.ap-northeast-1.amazonaws.com/dev/";var w=function(){var e=Object(O.a)(x.a.mark((function e(t){var n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"content-type":"application/octet-stream"},e.next=3,y.a.post("/detect",t,{headers:n});case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(O.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/findSimilar",{faceId:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=n(2),I=Object(s.a)((function(){return Object(o.a)({pictureContainer:{position:"relative"},loaded:{width:"100%",objectFit:"contain"}})})),S=function(){var e=I(),t=Object(a.useState)(void 0),n=Object(m.a)(t,2),r=n[0],c=n[1],i=Object(a.useRef)(null),s=Object(a.useState)([]),o=Object(m.a)(s,2),u=o[0],j=o[1],d=Object(a.useState)([]),b=Object(m.a)(d,2),h=b[0],p=b[1],g=Object(a.useState)(!1),y=Object(m.a)(g,2),S=y[0],_=y[1],z=i.current?100/i.current.naturalWidth:0,C=i.current?100/i.current.naturalHeight:0,F=function(){var e=Object(O.a)(x.a.mark((function e(t){var n,a,r,i,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target,a=n.files,r=a&&a.length?a[0]:null){e.next=5;break}return e.abrupt("return");case 5:return _(!0),j([]),(i=new FileReader).readAsDataURL(r),i.onload=function(){var e=i.result;c(e)},e.next=12,w(r);case 12:s=e.sent,j(s),_(!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(O.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.next=3,k(t);case 3:n=e.sent,p(n),_(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsxs)(R.Fragment,{children:[r&&Object(R.jsx)(f.a,{item:!0,container:!0,children:Object(R.jsxs)(f.a,{item:!0,container:!0,direction:"row",children:[Object(R.jsxs)(f.a,{className:e.pictureContainer,item:!0,container:!0,xs:6,justify:"center",alignItems:"center",children:[Object(R.jsx)("img",{ref:i,src:r,alt:"\u9078\u629e\u753b\u50cf",className:e.loaded}),u.map((function(e){return Object(R.jsx)("button",{onClick:function(){return N(e.faceId)},type:"button",style:{backgroundColor:"transparent",border:"2px solid blue",color:"transparent",cursor:"pointer",position:"absolute",left:"".concat(e.faceRectangle.left*z,"%"),top:"".concat(e.faceRectangle.top*C,"%"),width:"".concat(e.faceRectangle.width*z,"%"),height:"".concat(e.faceRectangle.height*C,"%")},children:":"},e.faceId)}))]}),Object(R.jsx)(f.a,{item:!0,container:!0,xs:6,justify:"center",alignItems:"center",children:"fuga"})]})}),!h.length&&Object(R.jsx)(f.a,{item:!0,container:!0,justify:"center",children:Object(R.jsxs)(v.a,{variant:"contained",color:"primary",component:"label",disabled:S,children:["\u753b\u50cf\u3092\u9078\u629e",Object(R.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:F})]})}),Object(R.jsx)(f.a,{item:!0,container:!0,children:h.map((function(e){return Object(R.jsx)(f.a,{item:!0,container:!0,justify:"center",children:Object(R.jsxs)(l.a,{children:[e.name," : ",(100*e.confidence).toFixed(1),"%"]})},e.name)}))})]})},_=Object(s.a)((function(){return Object(o.a)({title:{flexGrow:1},body:{padding:8}})})),z=function(){var e=_();return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(u.a,{position:"static",children:Object(R.jsx)(j.a,{variant:"dense",children:Object(R.jsx)(l.a,{variant:"h6",className:e.title,children:"\u3055\u304f\u3089\u5b66\u9662\u306e\u8ab0\u306b\u4f3c\u3066\u308b\u304b\u306a\uff08\u958b\u767a\u4e2d\uff09"})})}),Object(R.jsx)(d.a,{maxWidth:"sm",children:Object(R.jsx)(b.a,{className:e.body,children:Object(R.jsxs)(f.a,{container:!0,spacing:2,children:[Object(R.jsx)(f.a,{item:!0,container:!0,justify:"center",children:Object(R.jsx)("img",{src:"camera_kao_ninshiki.png",alt:"\u9854\u8a8d\u8b58"})}),Object(R.jsxs)(f.a,{item:!0,children:[Object(R.jsxs)(l.a,{children:["\u753b\u50cf\u306b\u5199\u3063\u3066\u3044\u308b\u4eba\u304c\u3001\u3055\u304f\u3089\u5b66\u9662\u306e\u4e2d\u3067",Object(R.jsx)("b",{children:"\u3069\u306e\u751f\u5f92\u306b\u3069\u306e\u304f\u3089\u3044\u4f3c\u3066\u3044\u308b\u304b"}),"\u5224\u5b9a\u3059\u308b\u3088\uff01"]}),Object(R.jsxs)(l.a,{variant:"caption",children:["\u203b\u753b\u50cf\u306f\u5224\u5b9a\u306e\u305f\u3081",Object(R.jsx)(h.a,{href:"https://azure.microsoft.com/ja-jp/services/cognitive-services/face/#demo",target:"_blank",children:"Microsoft"}),"\u3078\u9001\u4fe1\u3055\u308c\u307e\u3059\u3001\u305d\u308c\u4ee5\u5916\u306b\u306f\u4f7f\u7528\u3055\u308c\u307e\u305b\u3093"]})]}),Object(R.jsx)(S,{}),Object(R.jsx)(f.a,{item:!0,container:!0,justify:"flex-end",children:Object(R.jsxs)(l.a,{variant:"caption",children:["\u958b\u767a\uff1a"," ",Object(R.jsx)(h.a,{href:"https://twitter.com/ryochan_metal",target:"_blank",children:"@ryochan_metal"})]})})]})})})]})};i.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(z,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.b580345e.chunk.js.map